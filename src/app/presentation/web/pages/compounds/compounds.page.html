<div class="compounds-page">
    <header class="compounds-header">
        <div class="page-title">
            <h1>Gestión de Compuestos Químicos</h1>
            <p>Administración de fitocompuestos y moléculas aisladas</p>
        </div>

        <div class="header-controls">
            <div class="search-bar">
                <mat-icon class="search-icon">search</mat-icon>
                <input type="text" #searchInput (keyup)="onSearch(searchInput.value)"
                    placeholder="Buscar compuestos..." />
            </div>

            <button class="btn-primary" (click)="onAddCompound()">
                <mat-icon>science</mat-icon> Alta de Compuesto
            </button>
        </div>
    </header>

    <app-data-table [data]="compounds" [columns]="columns"></app-data-table>

    <!-- Modals -->
    <app-add-compound-modal (compoundsAdded)="onCompoundsAdded($event)"></app-add-compound-modal>
    <app-compound-modal (saved)="onSaveCompound($event)"></app-compound-modal>

    <app-confirmation-modal title="Eliminar Compuesto"
        message="¿Estás seguro de que deseas eliminar este compuesto del repositorio? Esta acción no se puede deshacer."
        confirmText="Eliminar" confirmColor="#E53E3E" (confirmed)="onConfirmDelete()">
    </app-confirmation-modal>

    <!-- Templates -->
    <ng-template #nameTpl let-item>
        <div class="compound-name-cell">
            <div class="icon-thumb">
                <mat-icon>flask</mat-icon>
            </div>
            <div class="info">
                <span class="main-name">{{ item.name }}</span>
                <span class="sub-iupac">{{ item.iupacName }}</span>
            </div>
        </div>
    </ng-template>

    <ng-template #formulaTpl let-item>
        <code class="formula-tag">{{ item.molecularFormula }}</code>
    </ng-template>

    <ng-template #actionsTpl let-item>
        <div class="actions">
            <button class="btn-icon view" (click)="onViewCompound(item)">
                <mat-icon>visibility</mat-icon>
            </button>
            <button class="btn-icon edit" (click)="onEditCompound(item)">
                <mat-icon>edit</mat-icon>
            </button>
            <button class="btn-icon delete" (click)="onDeleteCompound(item)">
                <mat-icon>delete_outline</mat-icon>
            </button>
        </div>
    </ng-template>
</div>