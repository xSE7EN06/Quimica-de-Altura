<div class="loader-wrapper" [class.hidden]="!isActive()" [class.fullscreen]="mode() === 'fullscreen'"
    [class.inline]="mode() === 'inline'">

    @if (mode() === 'fullscreen') {
    <div class="ambient-glow glow-green"></div>
    <div class="ambient-glow glow-gold"></div>
    }

    <div class="ai-core">
        <div class="hologram-base"></div>

        <div class="orbit-ring ring-1"></div>
        <div class="orbit-ring ring-2"></div>

        <div class="molecules">
            <div class="node node-1"></div>
            <div class="node node-2"></div>
            <div class="node node-3"></div>
        </div>

        <svg class="tech-leaf-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="leafGreen" x1="0%" y1="100%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#5E794B" />
                    <stop offset="100%" stop-color="#8ba876" />
                </linearGradient>
                <filter id="glow-fx" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur stdDeviation="2" result="blur" />
                    <feComposite in="SourceGraphic" in2="blur" operator="over" />
                </filter>
            </defs>

            <!-- Left: Organic Leaf -->
            <path d="M50 90 C 20 80, 10 40, 50 10 L 50 90 Z" fill="url(#leafGreen)" opacity="0.9" />

            <!-- Right: Tech Circuit Outline -->
            <path d="M50 90 C 80 80, 90 40, 50 10 L 50 90 Z" fill="none" stroke="#C4964A" stroke-width="2.5"
                stroke-dasharray="3,4" />

            <!-- Center Stem Line -->
            <line x1="50" y1="10" x2="50" y2="90" stroke="#fff" stroke-width="2" opacity="0.8" />

            <!-- Tech Nodes on Right Side -->
            <g stroke="#C4964A" stroke-width="1.5" fill="none" filter="url(#glow-fx)">
                <!-- Branch 1 -->
                <polyline points="50,70 65,65 72,55" />
                <circle cx="72" cy="55" r="2.5" fill="#fff" />
                <!-- Branch 2 -->
                <polyline points="50,50 62,45 66,35" />
                <circle cx="66" cy="35" r="2" fill="#fff" />
                <!-- Branch 3 -->
                <polyline points="50,30 58,25 60,18" />
                <circle cx="60" cy="18" r="1.5" fill="#fff" />
            </g>

            <!-- Organic Veins on Left Side -->
            <g stroke="#fff" stroke-width="1.5" fill="none" opacity="0.4">
                <path d="M50,75 Q35,70 30,60" />
                <path d="M50,55 Q40,50 35,40" />
                <path d="M50,35 Q45,30 40,25" />
            </g>
        </svg>

        <div class="scanner-line"></div>
    </div>

    <div class="text-box">
        <h3 class="title-glow">
            <span class="gold">Qu√≠mica</span> de Altura
        </h3>
        <p class="subtitle">
            Cargando
            <span class="dots">
                <span></span><span></span><span></span>
            </span>
        </p>
    </div>
</div>